/**
 * @preserve
 * @author [VereAbsolutum]
 * @email [sergiopile3@gmail.com]
 * @create date 2021-12-01 19:45:21
 * @modify date 2021-12-01 19:45:21
 * @desc [Animated overlay menu]
 */
"use strict";function setAttributes(e,t){for(var n=t.length,r=0;r<n;r++){var a=t[r].attr,o=t[r].value;e.setAttribute(a,o)}return e}function createNode(e){var t=document.createElement(e.tag);return setAttributes(t,e.attributes)}function ColorComponent(e){var t=createNode({tag:"div",attributes:[{attr:"class",value:"form__content flex__wrapper-100"}]}),n=createNode({tag:"label",attributes:[{attr:"for",value:"color"},{attr:"class",value:"form__label input-text"}]}),r=createNode({tag:"div",attributes:[{attr:"class",value:"form__popup"}]}),a=createNode({tag:"div",attributes:[{attr:"class",value:"form__popup-wrapper"}]}),o=createNode({tag:"span",attributes:[{attr:"class",value:"form__popup-span"}]}),i=createNode({tag:"input",attributes:[{attr:"class",value:"form__input"},{attr:"required",value:""},{attr:"type",value:"color"},{attr:"value",value:e},{attr:"name",value:"color"}]}),l=createNode({tag:"div",attributes:[{attr:"class",value:"form__input-description"}]}),u=createNode({tag:"span",attributes:[{attr:"class",value:"form__description-span"}]});return u.innerText="wave",o.innerText="wave",a.appendChild(o),r.appendChild(a),l.appendChild(u),n.appendChild(r),n.appendChild(i),n.appendChild(l),t.appendChild(n),t}function createComponentArray(e,t){var n=[];for(let a=0;a<t.length;a++){var r=t[a];n[a]=e(r)}return n}function createFragment(e){for(var t=document.createDocumentFragment(),n=e.length,r=0;r<n;r++){var a=e[r];t.appendChild(a)}return t}function appendColorComponent(e){var t=document.querySelector(".color-element"),n=createComponentArray(ColorComponent,e),r=createFragment(n);t.appendChild(r)}function updateInput(e,t){var n="value",r=e.target.type;if("checkbox"===r&&(n="checked"),"color"===r||"color"===e.target.name){var a=getColorPosition(e.target);t=t[a]}e.target[n]=t}function setDefault(){var e=document.querySelector("#form");e.reset()}function parametrization(e,t){return param[e]?param[e](t):t}function validate(e,t,n){return"opened"!==defaultSettings.status&&(!!("number"===e&&"navItemsDelay"!==n&&it.is.nonzero(t)&&it.is.integer(t)&&it.is.number(t)&&it.is.positive(t))||(!!("navItemsDelay"===n&&it.is.positive(t)&&t<=1)||(!("select-one"!==e||!it.is.string(t))||("checkbox"===e||("color"===e&&"color"===n||"color"===n&&"text"===e)))))}function findIndex(e,t){if(null===e)throw new Error("argument array is null or undefined");if("function"!=typeof t)throw new Error("callback must be a function");for(var n=e.length>>>0,r=0;r<n;r++)if(t(e[r],r,e))return r;return-1}function getColorsArray(e){var t=e.name,n=e.value,r=Object.assign([],defaultSettings.color),a=document.querySelector(".color-element"),o=a.querySelectorAll("input"),i=findIndex(o,function(t){return t===e});return r[i]=parametrization(t,n),r}function randomHEX(){var e=function(e){var t=parseInt(e).toString(16);return 1==t.length?"0"+t:t},t=function(){return Math.trunc(255*Math.random())},n=t(),r=t(),a=t();return"#"+e(n)+e(r)+e(a)}function arrayUnion(e,t){for(var n=t.length,r=0;r<n;r++){var a=e.length,o=t[r];e[a]=o}return e}function getTargetValue(e){return"checkbox"===e.type?e.checked:"color"===e.type||"color"===e.name?getColorsArray(e):e.value}function removeChildNode(e,t){for(var n=e.firstChild;t>0&&n!=e.lastChild;)t--,e.removeChild(e.lastChild)}function updateColorComponent(e,t){var n=document.querySelector(".color-element");if(it.will.create(e,t)){var r=e-t,a=defaultSettings.color.slice(-r),o=createComponentArray(ColorComponent,a),i=createFragment(o);n.appendChild(i)}else if(it.will.remove(e,t)){var l=t-e;removeChildNode(n,l)}}function getColorPosition(e){var t=document.querySelector(".color-element"),n=t.querySelectorAll("input"),r=findIndex(n,function(t){return t===e});return r}function handleChanges(e){e.stopPropagation(),e.preventDefault();var t=e.target;if(t.name)return clearTimeout(delay),delay=setTimeout(function(){var n=t.name,r=parametrization(n,getTargetValue(t)),a=validate(t.type,r,n);if(memory[0]=defaultSettings[inputsAdapter[n]],a)setAnimation({fieldName:inputsAdapter[n],value:r}),"numberOfWaves"===n&&updateColorComponent(r,memory[0]);else{var o=memory[0];updateInput(e,o),"opened"===defaultSettings.status&&alert("Please, close the menu first.")}},200),!1}function init(e){setDefault();var t=e.color;appendColorComponent(t),form.addEventListener("change",handleChanges)}function setBackground(e){if("opened"!==defaultSettings.status){var t=document.querySelector("main");t.classList.remove("white","dark"),"dark"===e.target.value&&t.classList.add("white"),"light"===e.target.value&&t.classList.add("dark"),"dark-light"===e.target.value&&t.classList.add("white"),"light-dark"===e.target.value&&t.classList.add("dark")}}function downloadData(e,t,n){var r=new Blob([e],{type:n});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,t);else{var a=URL.createObjectURL(r),o=Object.assign(document.createElement("a"),{href:a,style:"display:none",download:t,target:"_blank"});o.click(),URL.revokeObjectURL(a),o.remove()}return!1}function downloadFromFile(e,t,n){var r=new XMLHttpRequest;return r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var t=r.responseText;downloadData(t,e,n)}},r.open("GET",t),r.send(),!1}function downloadNakvitFile(){downloadFromFile("navkit.min.js","./navkit.min.js","text/plain")}function downloadCSSFile(){downloadFromFile("navkit.min.css","./css/navkit.min.css","text/plain")}function downloadHtml(){downloadFromFile("index.html","./assets/templates/index.md","text/plain")}var delay,form=document.querySelector("#form"),inputs=form.querySelectorAll("input"),fieldsName=form.querySelectorAll("input[name]"),setAnimation=navkit.setAnimation,defaultSettings=navkit.settings,updateSettings=navkit.updateSettings,inputsAdapter={numberOfWaves:"waveNumber",delay:"waveDelay",orientation:"inverse",direction:"orientation",numberOfCrests:"crestNumber",amplitude:"maxAmplitude",duration:"duration",shapeFunction:"shapeFunction",exitAnimation:"navItemsAnimeExit",enterAnimation:"navItemsAnimeEnter",color:"color",navItemsOrientation:"navItemsOrientation",navItemsDirection:"navItemsDirection",skin:"skin",navItemsDelay:"navItemsDelay"},it={is:{positive:function(e){return e>=0},integer:function(e){return e%1==0},float:function(e){return e%1!=0},nonzero:function(e){return 0!==e},object:function(e){return"object"==typeof e},number:function(e){return"number"==typeof e},string:function(e){return"string"==typeof e},sin:function(e){return"sin"===e},square:function(e){return"square"===e},random:function(e){return"random"===e}},will:{create:function(e,t){return e>t},remove:function(e,t){return e<t}}},inputObject=function(){for(var e=[],t=0;t<fieldsName.length;t++){var n=fieldsName[t];e[t]={field:n.name,target:n,value:n.value}}return e}(),param={navItemsDelay:function(e){return 1-e},direction:function(e){e=e.toLowerCase();var t="h";return"vertical"==e&&(t="v"),t},duration:function(e){return+e},numberOfWaves:function(e){return e=+e,e},amplitude:function(e){return+e},numberOfCrests:function(e){return+e},delay:function(e){return+e}},memory=[];init(defaultSettings);var txt=document.querySelector("#navText"),wrapper={target:txt};txt.addEventListener("change",setBackground),setBackground(wrapper);var btnHide=document.querySelector("#btn-export-hide"),btnShow=document.querySelector("#btn-export-show"),btnExport=document.querySelector("#btn-export"),downloadHTML=document.querySelector("#download-html"),downloadCSS=document.querySelector("#download-css"),downloadNavkitJS=document.querySelector("#download-navkit-js"),downContainer=document.querySelector("#download-container");btnHide.classList.add("display-none"),btnExport.addEventListener("click",function(){return downContainer.classList.toggle("display-none"),btnHide.classList.toggle("display-none"),btnShow.classList.toggle("display-none"),!1}),downloadHTML.addEventListener("click",function(e){return downloadHtml(),e.preventDefault(),e.stopPropagation(),!1}),downloadCSS.addEventListener("click",function(e){return downloadCSSFile(),!1}),downloadNavkitJS.addEventListener("click",function(e){return downloadNakvitFile(),!1});