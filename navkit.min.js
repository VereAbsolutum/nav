/**
 * @preserve
 * @author [VereAbsolutum]
 * @email [sergiopile3@gmail.com]
 * @create date 2021-12-01 19:45:21
 * @modify date 2021-12-01 19:45:21
 * @desc [Animated overlay menu]
 */
"use strict";Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a){a=Object(a);for(var r=Object.keys(Object(a)),i=0,s=r.length;i<s;i++){var o=r[i],c=Object.getOwnPropertyDescriptor(a,o);void 0!==c&&c.enumerable&&(t[o]=a[o])}}}return t}}),Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var navkit=function(){function e(e){return 100-e}function t(e){var t=0;return t=e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1,t}function n(e){for(var t=0,n=0;n<e.crestNumber+1;n++)n%5==0&&(t=0===t?1:0),e.array[n]=t*e.maxAmplitude;return e.array}function a(e){for(var t=0;t<e.crestNumber+1;t++)e.array[t]=Math.random()*e.maxAmplitude+1;return e.array}function r(e){for(var t=4*Math.random()+6,n=0;n<e.crestNumber+1;n++){var a=n/e.crestNumber*Math.PI;e.array[n]=.25*(Math.sin(a)+Math.sin(-a*t)+2)*e.maxAmplitude}return e.array}function i(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return{sin:r,random:a,square:n}[e]({maxAmplitude:t,crestNumber:i,array:s})}function s(e,n,a){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:C,s=0;s<n.length;s++){var o=Math.min(Math.max(e-n[s],0)/a,1);r[s]=t(o)*i*100}return r}function o(t,n,a,r,i){var s=1/n,o="";if(t)for(var c=0;c<i.length;c++)i[c]=e(i[c]);o+="M".concat(i[0]," 0 ");for(c=0;c<n;c++){var l=(c+.5)*s*a*100;o+="C".concat(i[c]," ").concat(l," ").concat(i[c+1]," ").concat(l," ").concat(i[c+1]," ").concat((c+1)*s*a*100," ")}return o+=t&&"closed"===r?"H100 V0":t&&"opened"===r?"H0 V0":t||"closed"!==r?"H100 V0":"H0 V0",o}function c(t,n,a,r,i){var s=1/n,o="";if(t)for(var c=0;c<i.length;c++)i[c]=e(i[c]);o+=t&&"closed"===r?"M0 0 V".concat(i[0]):t&&"opened"===r?"M0 ".concat(i[0]):t||"closed"!==r?"M0 0 V".concat(i[0]):"M0 ".concat(i[0]);for(c=0;c<n;c++){var l=(c+.5)*s*a*100;o+="C".concat(l," ").concat(i[c],"  ").concat(l," ").concat(i[c+1]," ").concat((c+1)*s*a*100," \n      ").concat(i[c+1])}return o+=t&&"closed"===r?"V100 H0":t&&"opened"===r?"V0 H0":t||"closed"!==r?"V100 H0":"V0 H0",o}function l(e,t,n,a,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:C,s="";return s="h"===r?o(a,t,i,n,e):c(a,t,i,n,e),s}function u(e){var t=e.stateMachine.state,n=e.inverse,a=e.orientation,r=e.crestNumber,s=e.maxAmplitude,o=e.duration,c=e.shapeFunction,l=e.paths,u=e.waveDelay,v=e.stateMachine,d=i(c,s,r),f=Date.now();v.setAction("transition"),m(r,d,o,f,s,l,u,t,n,a)}function m(e,t,n,a,r,i,o,c,u,v){var d=Date.now()-a,f=n+r+o*i.length;d<f&&requestAnimationFrame(function(){m(e,t,n,a,r,i,o,c,u,v)});for(var g=0;g<i.length;g++)if("closed"===c){var h=Date.now()-a-o*g,b=s(h,t,n),y=l(b,e,c,u,v);i[g].setAttribute("d",y)}else{h=Date.now()-a-o*(i.length-g),b=s(h,t,n),y=l(b,e,c,u,v);i[g].setAttribute("d",y)}}function v(e){var t=e.svgBg;return{state:"closed",states:{opened:{transition:function(t){e.exitAnimation.play(),this.changeState("transition"),this.setAction("toClosed",[t])}},transition:{toClosed:function(n){var a=this;t.classList.remove("is-opened"),t.classList.add("is-transitioning"),setTimeout(function(){e.status="closed",t.style.visibility="hidden",t.classList.remove("is-transitioning"),t.classList.add("is-closed"),a.changeState("closed")},e.durationPlusDelay)},toOpened:function(n){var a=this;t.style.visibility="visible",t.classList.remove("is-closed"),t.classList.add("is-transitioning"),setTimeout(function(){e.status="opened",t.classList.remove("is-transitioning"),t.classList.add("is-opened"),a.changeState("opened")},e.durationPlusDelay)}},closed:{transition:function(t){e.enterAnimation.play(),this.changeState("transition"),this.setAction("toOpened",[t])}}},setAction:function(e){var t=this.states[this.state],n=t[e];if(!n)throw new Error("Not a valid action"+n);for(var a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];n.apply.apply(n,[this].concat(r))},changeState:function(e){e&&(this.state=e)}}}function d(){var e=function(e){var t=parseInt(e).toString(16);return 1==t.length?"0"+t:t},t=function(){return Math.trunc(255*Math.random())},n=t(),a=t(),r=t();return"#"+e(n)+e(a)+e(r)}function f(e,t,n,a){return Object.assign(n,{duration:e}),anime.timeline(n).add(t,e*(1-a))}function g(e,t,n,a){return Object.assign(n,{duration:e}),anime.timeline(n).add(t,e*(1-a))}function h(e,t){return e.setAttribute("style","fill: ".concat(t)),e}function b(e){var t=[];for(let r=0;r<e.length;r++){var n=e[r].path,a=e[r].color;t[r]=h(n,a)}return t}function y(e,t){for(let a=0;a<t.length;a++){var n=t[a];e.appendChild(n)}return e}function p(e,t){var n=document.createDocumentFragment();n=y(n,t),e.appendChild(n)}function A(){return document.createElementNS("http://www.w3.org/2000/svg","path")}function w(e){for(var t=[],n=0;n<e;n++)t[n]=A();return t}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];for(let r=0;r<e.length;r++){var a=e[r];n[r]={path:a,color:t[r]||d()}}return n}function I(e,t,n,a){return e+t+n*a}function j(e){for(var t=[],n=e.length,a=0;a<n;a++){var r=e[a].color;t[a]=r}return t}function N(e){var t="closed",n=e.navItemsAnimeEnter,a=e.defaultAnime,r=e.navItemsAnimeExit,i=e.waveNumber,s=w(i),o=e.svgBg.querySelector("svg");p(o,s);var c=O(s);b(c);var l=e.duration,u=o.querySelectorAll("path"),m=e.maxAmplitude,d=e.waveDelay,h=I(l,m,d,u.length),y=g(h,r,a,1),A=f(h,n,a,.4);return Object.assign(e,{enterAnimation:A,exitAnimation:y,stateMachine:v(e),status:t,paths:u,durationPlusDelay:h,color:j(c)})}function D(e,t){"transition"!==e.stateMachine.state&&(t(e),document.querySelector("#overlay").classList.toggle("is-opened"),document.querySelector("#header").classList.toggle("is-opened"))}function x(e){for(var t=G.svgBg.querySelector("svg"),n=t.childNodes,a=0;a<n.length;a++){var r=n[a],i=e[a];r.setAttribute("style","fill: ".concat(i))}}function E(e,t,n,a){return I(e,t,n,a)}function M(e,t){for(;t>0;)e.removeChild(e.lastChild),t--}function S(e,t){var n=t.length;for(let i=0;i<n;i++){var a=e.length,r=t[i];e[a]=r}return e}function k(e){var t=G.svgBg.querySelector("svg");if(z.create(e)){for(var n=e-G.waveNumber,a=w(n),r=[],i=0;i<n;i++)r[i]=d();var s=O(a,r),o=b(s);G.color=S(G.color,r),p(t,o)}else if(z.remove(e)){n=G.waveNumber-e;M(t,n)}return t.childNodes}function L(e,t){var n,a,r=200,i=-200;t?(r=-200,i=200,Object.assign(G.navItemsAnimeEnter,{delay:anime.stagger(100,{from:"last"})}),Object.assign(G.navItemsAnimeExit,{delay:anime.stagger(100,{from:"last"})})):(Object.assign(G.navItemsAnimeEnter,{delay:anime.stagger(100,{from:"first"})}),Object.assign(G.navItemsAnimeExit,{delay:anime.stagger(100,{from:"first"})})),"vertical"===e?(n=Object.assign(G.navItemsAnimeEnter,{translateY:[r,0]}),n=Object.assign(G.navItemsAnimeEnter,{translateX:[0,0]}),a=Object.assign(G.navItemsAnimeExit,{translateY:[0,i]}),a=Object.assign(G.navItemsAnimeExit,{translateX:[0,0]})):(n=Object.assign(G.navItemsAnimeEnter,{translateY:[0,0]}),n=Object.assign(G.navItemsAnimeEnter,{translateX:[r,0]}),a=Object.assign(G.navItemsAnimeExit,{translateY:[0,0]}),a=Object.assign(G.navItemsAnimeExit,{translateX:[0,i]})),Object.assign(G,{navItemsAnimeEnter:n,navItemsAnimeExit:a})}function P(e){var t=document.querySelector("#header");t.classList.remove("header--white","header--black","header--black-white","header--white-black"),"dark"===e&&t.classList.add("header--black"),"light"===e&&t.classList.add("header--white"),"dark-light"===e&&t.classList.add("header--black-white"),"light-dark"===e&&t.classList.add("header--white-black")}function q(e){if(T.duration(e.fieldName)){var t=e.value,n=e.fieldName,a=G.duration,r=G.maxAmplitude,i=G.waveDelay,s=G.waveNumber;if("waveNumber"===n){var o=k(t);s=t,Object.assign(G,{paths:o})}"duration"===n&&(a=t),"maxAmplitude"===n&&(r=t),"waveDelay"===n&&(i=t),G.durationPlusDelay=E(a,r,i,s);var c=Object.defineProperty({stateMachine:v(G)},n,{value:t,writable:!0,configurable:!0,enumerable:!0});Object.assign(G,c)}else if(!1===T.duration(e.fieldName)){if("color"===e.fieldName){var l=e.value;x(l)}"navItemsDirection"===e.fieldName&&L(e.value,G.navItemsOrientation),"navItemsOrientation"===e.fieldName&&L(G.navItemsDirection,e.value),"navItemsDelay"===e.fieldName&&(G.navItemsDelay=e.value),"skin"===e.fieldName&&P(e.value);c=Object.defineProperty({},e.fieldName,{value:e.value,writable:!0,configurable:!0,enumerable:!0});Object.assign(G,c,{exitAnimation:g(G.durationPlusDelay,G.navItemsAnimeExit,G.defaultAnime,1),enterAnimation:f(G.durationPlusDelay,G.navItemsAnimeEnter,G.defaultAnime,G.navItemsDelay)})}return G}function V(e){e.color=e.color.split(","),G.paths=k(e.waveNumber),Object.assign(G,e),P(G.skin),L(G.navItemsDirection,G.navItemsOrientation),x(G.color),Object.assign(G,{stateMachine:v(G),exitAnimation:g(G.durationPlusDelay,G.navItemsAnimeExit,G.defaultAnime,1),enterAnimation:f(G.durationPlusDelay,G.navItemsAnimeEnter,G.defaultAnime,G.navItemsDelay)})}var C=1,H=document.querySelector("#toggle"),Y=document.querySelector("#svg-bg"),B={autoplay:!1,loop:!1},F={targets:".nav__item",translateY:[200,0],opacity:[0,1],easing:"easeInOutSine",duration:300,delay:anime.stagger(100,{from:"first"})},X={targets:".nav__item",translateY:[0,-200],opacity:[1,0],easing:"easeInOutSine",duration:300,delay:anime.stagger(100,{from:"first"})},_={skin:"dark",color:[],waveNumber:2,waveDelay:100,duration:1e3,maxAmplitude:200,inverse:!1,orientation:"v",crestNumber:18,shapeFunction:"sin",navItemsAnimeExit:X,navItemsAnimeEnter:F,svgBg:Y,defaultAnime:B,navItemsOrientation:!1,navItemsDirection:"vertical",navItemsDelay:.4},T={duration:function(e){return"waveDelay"==e||"maxAmplitude"==e||"waveNumber"==e||"paths"==e||"duration"==e},color:function(e){return"waveNumber"===e}},z={create:function(e){return e>G.waveNumber},remove:function(e){return e<G.waveNumber}},G=N(_),J=function(){return D(G,u)};return H.addEventListener("click",J),P(G.skin),{settings:G,setAnimation:q,updateSettings:V}}();